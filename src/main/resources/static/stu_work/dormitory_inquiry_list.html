<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>宿舍到期信息列表</title>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../libs/h-ui/css/H-ui.min.css">
    <link rel="stylesheet" href="../libs/h-ui.admin/css/H-ui.admin.css">
    <link rel="stylesheet" href="../libs/Hui-iconfont/1.0.8/iconfont.css">
    <link rel="stylesheet" href="../libs/h-ui.admin/skin/default/skin.css" id="skin">
    <link rel="stylesheet" href="../libs/h-ui.admin/css/style.css">

    <style>
        .on_focus,.mytable-hover tr:hover{
            /*background-color: #c9daf8;*/
            /*background-color: #C6E2FF;*/
            background-color: #f5f5f5;
            /*background-color: #C0D9D9*/
            /*background-color: #f5f5f5*/
            /*background-color: #BEEBEE*/
        }
        button[disabled],button:disabled,button[disabled]:hover,button:disabled:hover{
            border:1px solid #DDD;
            background-color:#F5F5F5;
            color:#ACA899;
        }
    </style>

</head>
<body>

<!-- 导航栏 -->
<nav class="breadcrumb">
    <i class="Hui-iconfont">&#xe67f;</i>&nbsp;首页
    <span class="c-green en">&gt;</span>宿舍到期信息列表
    <a class="btn btn-success radius r"
       style="line-height: 1.6em;margin-top: 3px"
       href="javascript:location.replace(location.href);"
       title="刷新">
        <i class="Hui-iconfont">&#xe68f;</i>
    </a>
</nav>
<div class="pageTitle text-c"><h3><strong>宿舍到期信息列表</strong></h3></div>
<div class="list">
    <div class="listTopOperation">
        <div class="select text-c">

            <form action="#" method="post">
                校区:
                <select class="select-box" name="search_codeSchool" id="test" style="width:100px;">
                    <option></option>
                    <option>五一校区</option>
                    <option>涉外校区</option>
                    <option>林科大校区</option>
                </select>
                房东: <input type="text" name="search_position" style="width:80px;" class="input-text radius size-S">&nbsp;&nbsp;
                房东电话: <input type="text" name="search_studentName" style="width:80px;" class="input-text radius size-S">&nbsp;&nbsp;
                管理员:<input type="text" name="search_hostelName" style="width:80px;" class="input-text radius size-S">&nbsp;&nbsp;
                <br>
                签约时间: <input type="date"   name="search_endDate" style="width:125px;" class="input-text radius size-S">&nbsp;&nbsp;
                到期时间: <input type="date"   name="search_endDate" style="width:125px;" class="input-text radius size-S">
                &nbsp;&nbsp;&nbsp;
                <button type="submit" class="btn btn-secondary-outline radius">查询</button>&nbsp;&nbsp;
            </form>


        </div>
        &nbsp;

        <div id="anniu" class="text-r">
            <button  class="btn btn-primary radius" onclick="add_management('新增宿舍','save_dormitories_list.html',1000,600)">新增宿舍信息</button>&nbsp;
            <button type="button" id="room_modify" class="btn btn-primary radius" disabled onclick="remodify('修改宿舍','amend_dorm_list.html',900,600)">修改宿舍</button>
            <button type="button" id="amend_dorm" class="btn btn-primary radius" disabled onclick="amend_dorm('新增宿舍','createa_room_list.html',900,600)">新增房间</button>

        </div>

        &nbsp;&nbsp;
    </div>
    <table border="0" cellspacing="1" cellpadding="0" width="100%" class="table table-striped table-hover table-border table-bordered">
        <thead>
        <tr>
            <th>序号</th>
            <th>宿舍名称</th>
            <th>所处位置</th>
            <th>宿舍类型</th>

            <th>租金</th>
            <th>押金</th>
            <th>楼层</th>
            <th>容纳人数</th>

            <th>房东</th>
            <th>房东电话</th>
            <th>签约日期</th>
            <th>到期日期</th>

            <th>财产</th>
            <th>备注</th>
            <th>管理员</th>
            <th>校区</th>


        </tr>
        </thead>
        <tbody id="_list_Tbody">

        <tr selected="false" keyName="hosId" keyValue="417" onclick="to_effect(this)">
            <td align="center">1</td>
            <td>长康宿舍</td>
            <td>五一广场长康路</td>
            <td>男宿舍</td>

            <td>10000</td>
            <td>8000</td>
            <td>长康4楼</td>
            <td>30</td>

            <td>张三</td>
            <td>12345678901</td>
            <td>2011-01-01</td>
            <td>2022-01-01</td>

            <td>三台空调，一台洗衣机</td>
            <td>无</td>
            <td>王五</td>
            <td>五一校区</td>
        </tr>

        <tr selected="false" keyName="hosId" keyValue="417" onclick="to_effect(this)">
            <td align="center">1</td>
            <td>林科大宿舍</td>
            <td>林科大路</td>
            <td>男女混舍</td>

            <td>11000</td>
            <td>9000</td>
            <td>联考4楼</td>
            <td>25</td>

            <td>丁二</td>
            <td>15555555555</td>
            <td>2010-01-01</td>
            <td>2020-01-01</td>

            <td>无</td>
            <td>无</td>
            <td>丙七</td>
            <td>林科大校区</td>
        </tr>

        <tr selected="false" keyName="hosId" keyValue="417" onclick="to_effect(this)">
            <td align="center">1</td>
            <td>涉外宿舍</td>
            <td>西站涉外路</td>
            <td>女宿舍</td>

            <td>12000</td>
            <td>7000</td>
            <td>雷锋楼3层</td>
            <td>20</td>

            <td>李四</td>
            <td>09876543212</td>
            <td>2012-01-01</td>
            <td>2022-01-01</td>

            <td>门窗全好</td>
            <td>无</td>
            <td>赵六</td>
            <td>涉外校区</td>
        </tr>

        </tbody>
    </table>
    &nbsp;
    <div class="text-r">
        每页50条记录&nbsp;共3条记录&nbsp;&nbsp;第1页&nbsp;&nbsp;共1页&nbsp;&nbsp;首页&nbsp;&nbsp;上页&nbsp;&nbsp;下页&nbsp;&nbsp;
        尾页&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;转到：<select id='_gotoPageCount'
                                                         onchange="window.location.href='hostelservice.do?action=list&currnetPageNo='+this.value+'&_restore=true'">
        <option  selected  value=1 >第1页</option></select>&nbsp;&nbsp;&nbsp;&nbsp;
        <select id='_gotoPage' onchange="window.location.href='hostelservice.do?action=list&currnetPageNo=1&_restore=true&pageSize='+this.value+''">
            <option  value=10 >每页10条记录</option><option  value=20 >每页20条记录</option><option  value=30 >每页30条记录</option><option  value=40 >每页40条记录</option>
            <option  selected  value=50 >每页50条记录</option></select>
    </div>

</div>
<script src="../js/jquery.2.1.4.min.js"></script>
<script src="../js/jquery.dataTables.min.js"></script>
<script src="../libs/layui/layui.all.js"></script>
<script src="../libs/h-ui/js/H-ui.min.js"></script>
<script src="../libs/h-ui.admin/js/H-ui.admin.js"></script>
<!--<script src="../libs/layer/2.4/layer.js"></script>
<script src="../libs/layer/laypage.js"></script>-->
<script>
    $(window).on('load', () => {

            $(document).on("click",function (event) {
                var tagname = event.target.nodeName;

                // 点击不是表单数据时 按钮失效
                if(!(tagname=="TD" || tagname=="td")){
                    //console.log(tagname)
                    $("#room_modify").attr("disabled","disabled")
                    $("#amend_dorm").attr("disabled","disabled")
                    //$("tr").removeClass("on_focus");
                }
            })

    })

    <!-- 新增宿舍 -->
    function add_management(title,url,w,h) {
        console.log("1111111111111111")
        layer_show(title,url,w,h)
    }

    <!-- 修改宿舍 -->
    function amend_dorm(title,url,w,h) {
        console.log("1111111111111111")
        layer_show(title,url,w,h)
    }

    function to_effect(obj) {
        // 按钮生效
        $("#room_modify").removeAttr("disabled")
        $("#amend_dorm").removeAttr("disabled")
        // 当前对象增色 兄弟对象去色
        $(obj).addClass("on_focus").siblings().removeClass("on_focus");
    }

    function remodify(title,url,w,h) {
        console.log("1111111111111111")
        layer_show(title,url,w,h)
    }
    /* $(".table-hover").DataTable({
         language: {
             url: "/ssm/resources/js/zh_CN.txt"
         },
         retrieve: true
     })*/

</script>
</body>
</html>